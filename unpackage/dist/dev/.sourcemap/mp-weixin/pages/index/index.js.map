{"version":3,"sources":["uni-app:///main.js","webpack:///E:/myUniApp/pages/index/index.vue?7039","webpack:///E:/myUniApp/pages/index/index.vue?c7bc","webpack:///E:/myUniApp/pages/index/index.vue?5a59","webpack:///E:/myUniApp/pages/index/index.vue?a19c","uni-app:///pages/index/index.vue","webpack:///E:/myUniApp/pages/index/index.vue?173e","webpack:///E:/myUniApp/pages/index/index.vue?bdb0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,4F,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACgL;AAChL,gBAAgB,yLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAspB,CAAgB,2qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsE1qB;AACA,mB;AACA;AACA,MADA,kBACA;AACA;AACA,uDADA;AAEA,kBAFA;AAGA,wBAHA;AAIA,mBAJA;AAKA,wBALA;AAMA,uBANA;AAOA,kCAPA;;AASA;AACA,kEAVA;;AAYA,gBAZA;;AAcA,GAhBA;AAiBA;AACA;AACA;AACA,qCADA;;AAGA;AACA;;AAEA;AACA;AACA,mCADA;;AAGA;AACA,GA9BA;AA+BA;AACA,kBADA,4BACA;AACA;AACA;AACA,sBADA;AAEA;AACA;AACA;AACA,6CADA;AAEA,kCAFA;AAGA,6BAHA;;AAKA,SATA;;AAWA,KAdA;;AAgBA;AACA;AACA;AACA,sBADA;AAEA,gDAFA;AAGA,qCAHA;AAIA,2BAJA;;AAMA;AACA,KAzBA;;AA2BA;AACA;AACA;AACA,qBADA;AAEA,gBAFA;AAGA;AACA;AACA;AACA;AACA,6CADA;;AAGA,SATA;AAUA;AACA;AACA;AACA,qDADA;;AAGA,SAfA;;AAiBA,KA9CA;;AAgDA;AACA;AACA;AACA;AACA,gBADA;AAEA,gCAFA;AAGA,uCAHA;AAIA;AACA;AACA,wBADA;;AAGA,8CAJA,CAIA;;AAEA;AACA;AACA,gCADA;AAEA,8BAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,uDADA;;AAGA,aAXA;AAYA;AACA;AACA;AACA,4BADA;AAEA,6BAFA;;AAIA,aAlBA;AAmBA;AACA;AACA,aArBA;;AAuBA,SAlCA;AAmCA;AACA;AACA,SArCA;;AAuCA,KA1FA;;AA4FA,eA5FA,yBA4FA;AACA;AACA,KA9FA;;AAgGA,cAhGA,wBAgGA;AACA;AACA,KAlGA,EA/BA,E;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAA87B,CAAgB,w7BAAG,EAAC,C;;;;;;;;;;ACAl9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n    <!--index.wxml-->\n    <view class=\"container\">\n        <!-- 用户 openid -->\n        <view class=\"userinfo\">\n            <block v-if=\"canIUseOpenData\" class=\"userinfo-opendata\">\n                <view class=\"userinfo-block-avatar\" @tap=\"bindViewTap\">\n                    <open-data type=\"userAvatarUrl\"></open-data>\n                </view>\n            </block>\n            <block v-else-if=\"!hasUserInfo\">\n                <button v-if=\"canIUseGetUserProfile\" @tap=\"getUserProfile\" class=\"userinfo-avatar\" :style=\"'background-image: url(' + avatarUrl + ')'\" size=\"default\"></button>\n                <button\n                    v-else\n                    open-type=\"getUserInfo\"\n                    @getuserinfo=\"onGetUserInfo\"\n                    class=\"userinfo-avatar\"\n                    :style=\"'background-image: url(' + avatarUrl + ')'\"\n                    size=\"default\"\n                ></button>\n            </block>\n            <block v-else>\n                <image @tap=\"bindViewTap\" class=\"userinfo-block-avatar\" :src=\"avatarUrl\" mode=\"cover\"></image>\n            </block>\n            <view class=\"userinfo-nickname-wrapper\">\n                <button class=\"userinfo-nickname\" @tap=\"onGetOpenid\">点击获取 openid</button>\n            </view>\n        </view>\n\n        <!-- 上传图片 -->\n        <view class=\"uploader\">\n            <view class=\"uploader-text\" @tap=\"doUpload\">\n                <text>上传图片</text>\n            </view>\n            <view class=\"uploader-container\" v-if=\"imgUrl\">\n                <image class=\"uploader-image\" :src=\"imgUrl\" mode=\"aspectFit\" @tap=\"previewImg\"></image>\n            </view>\n        </view>\n\n        <!-- 操作数据库 -->\n        <view class=\"uploader\">\n            <navigator url=\"../databaseGuide/databaseGuide\" open-type=\"navigate\" class=\"uploader-text\">\n                <text>前端操作数据库</text>\n            </navigator>\n        </view>\n\n        <!-- 即时通信 -->\n        <view class=\"uploader\">\n            <navigator url=\"../im/im\" open-type=\"navigate\" class=\"uploader-text\">\n                <text>即时通信 Demo</text>\n            </navigator>\n        </view>\n\n        <!-- 新建云函数 -->\n        <view class=\"uploader\">\n            <navigator url=\"../addFunction/addFunction\" open-type=\"navigate\" class=\"uploader-text\">\n                <text>快速新建云函数</text>\n            </navigator>\n        </view>\n\n        <!-- 云调用 -->\n        <view class=\"uploader\">\n            <navigator url=\"../openapi/openapi\" open-type=\"navigate\" class=\"uploader-text\">\n                <text>云调用</text>\n            </navigator>\n        </view>\n    </view>\n</template>\n\n<script>\n//index.js\nconst app = getApp();\nexport default {\n    data() {\n        return {\n            avatarUrl: '/static/pages/index/user-unlogin.png',\n            userInfo: {},\n            hasUserInfo: false,\n            logged: false,\n            takeSession: false,\n            requestResult: '',\n            canIUseGetUserProfile: false,\n\n            // 如需尝试获取用户信息可改为false\n            canIUseOpenData: uni.canIUse('open-data.type.userAvatarUrl'),\n\n            imgUrl: ''\n        };\n    },\n    onLoad: function () {\n        if (!wx.cloud) {\n            uni.redirectTo({\n                url: '../chooseLib/chooseLib'\n            });\n            return;\n        }\n\n        if (uni.getUserProfile) {\n            this.setData({\n                canIUseGetUserProfile: true\n            });\n        }\n    },\n    methods: {\n        getUserProfile() {\n            // 推荐使用wx.getUserProfile获取用户信息，开发者每次通过该接口获取用户个人信息均需用户确认，开发者妥善保管用户快速填写的头像昵称，避免重复弹窗\n            uni.getUserProfile({\n                desc: '展示用户信息',\n                // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写\n                success: (res) => {\n                    this.setData({\n                        avatarUrl: res.userInfo.avatarUrl,\n                        userInfo: res.userInfo,\n                        hasUserInfo: true\n                    });\n                }\n            });\n        },\n\n        onGetUserInfo: function (e) {\n            if (!this.logged && e.detail.userInfo) {\n                this.setData({\n                    logged: true,\n                    avatarUrl: e.detail.userInfo.avatarUrl,\n                    userInfo: e.detail.userInfo,\n                    hasUserInfo: true\n                });\n            }\n        },\n\n        onGetOpenid: function () {\n            // 调用云函数\n            wx.cloud.callFunction({\n                name: 'login',\n                data: {},\n                success: (res) => {\n                    console.log('[云函数] [login] user openid: ', res.result.openid);\n                    app.globalData.openid = res.result.openid;\n                    uni.navigateTo({\n                        url: '../userConsole/userConsole'\n                    });\n                },\n                fail: (err) => {\n                    console.error('[云函数] [login] 调用失败', err);\n                    uni.navigateTo({\n                        url: '../deployFunctions/deployFunctions'\n                    });\n                }\n            });\n        },\n\n        // 上传图片\n        doUpload: function () {\n            // 选择图片\n            uni.chooseImage({\n                count: 1,\n                sizeType: ['compressed'],\n                sourceType: ['album', 'camera'],\n                success: function (res) {\n                    uni.showLoading({\n                        title: '上传中'\n                    });\n                    const filePath = res.tempFilePaths[0]; // 上传图片\n\n                    const cloudPath = `my-image${filePath.match(/\\.[^.]+?$/)[0]}`;\n                    wx.cloud.uploadFile({\n                        cloudPath,\n                        filePath,\n                        success: (res) => {\n                            console.log('[上传文件] 成功：', res);\n                            app.globalData.fileID = res.fileID;\n                            app.globalData.cloudPath = cloudPath;\n                            app.globalData.imagePath = filePath;\n                            uni.navigateTo({\n                                url: '../storageConsole/storageConsole'\n                            });\n                        },\n                        fail: (e) => {\n                            console.error('[上传文件] 失败：', e);\n                            uni.showToast({\n                                icon: 'none',\n                                title: '上传失败'\n                            });\n                        },\n                        complete: () => {\n                            uni.hideLoading();\n                        }\n                    });\n                },\n                fail: (e) => {\n                    console.error(e);\n                }\n            });\n        },\n\n        bindViewTap() {\n            console.log('占位：函数 bindViewTap 未声明');\n        },\n\n        previewImg() {\n            console.log('占位：函数 previewImg 未声明');\n        }\n    }\n};\n</script>\n<style>\n@import './index.css';\n</style>\n","import mod from \"-!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1638786581774\n      var cssReload = require(\"D:/HBuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}